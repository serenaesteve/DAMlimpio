En este proyecto he desarrollado una pÃ¡gina web de recortables imprimibles y he aplicado diferentes mejoras de SEO para que sea mÃ¡s fÃ¡cil de encontrar en buscadores como Google. El objetivo principal ha sido mejorar la visibilidad de la web y facilitar que los usuarios puedan acceder al contenido de forma clara y sencilla.
â€‹
buscar.php:
```
<?php
session_start();
â€‹
require_once __DIR__ . '/seo.php';
â€‹
$db = new SQLite3(__DIR__ . '/recortables.db');
â€‹
function hasCol(SQLite3 $db, string $table, string $col): bool {
  $res = $db->query("PRAGMA table_info($table)");
  while ($r = $res->fetchArray(SQLITE3_ASSOC)) if (($r['name'] ?? '') === $col) return true;
  return false;
}
â€‹
function h($s): string {
  return htmlspecialchars((string)$s, ENT_QUOTES, 'UTF-8');
}
â€‹
function img_path(string $p): string {
  $p = trim($p);
  if ($p === '') return '';
  if (preg_match('#^(https?://|data:)#i', $p)) return $p;
  $p = ltrim($p, '/');
  if (file_exists(__DIR__ . '/' . $p)) return $p;
  if (file_exists(__DIR__ . '/img/' . $p)) return 'img/' . $p;
  return $p;
}
â€‹
$carritoCount = isset($_SESSION['carrito']) ? array_sum($_SESSION['carrito']) : 0;
â€‹
$q = isset($_GET['q']) ? trim($_GET['q']) : '';
$qLike = '%' . $q . '%';
â€‹
$tieneFecha        = hasCol($db, 'productos', 'fecha');
$tienePrecio       = hasCol($db, 'productos', 'precio');
$tieneCalificacion = hasCol($db, 'productos', 'calificacion');
â€‹
$cols = "id, nombre, imagen, descripcion" .
  ($tienePrecio ? ", precio" : "") .
  ($tieneCalificacion ? ", calificacion" : "") .
  ($tieneFecha ? ", fecha" : "");
â€‹
$stmt = $db->prepare("SELECT $cols FROM productos WHERE nombre LIKE :q OR descripcion LIKE :q ORDER BY id DESC");
$stmt->bindValue(':q', $qLike, SQLITE3_TEXT);
$res = $stmt->execute();
?>
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
â€‹
  <?php
  seo(
    "Buscar recortables",
    "Resultados de bÃºsqueda de recortables imprimibles.",
    canonical_url(),
    true // NOINDEX
  );
  ?>
â€‹
  <link rel="stylesheet" href="styles.css">
</head>
<body>
â€‹
<header>
  <h1>Juguetes Recortables</h1>
  <p>BÃºsqueda</p>
â€‹
  <a class="cart-link" href="carrito.php" aria-label="Carrito">ğŸ›’
    <?php if ($carritoCount > 0) { ?><span class="cart-badge"><?= (int)$carritoCount ?></span><?php } ?>
  </a>
</header>
â€‹
<main>
  <section>
    <form class="buscador" action="buscar.php" method="get">
      <input type="text" name="q" value="<?= h($q) ?>" placeholder="Buscar..." aria-label="Buscar recortables">
      <button class="btn" type="submit">Buscar</button>
      <a class="btn secundario" href="index.php">Volver</a>
    </form>
â€‹
    <h3>Resultados</h3>
â€‹
    <div class="contenedor">
      <?php
      $hay = false;
      while ($p = $res->fetchArray(SQLITE3_ASSOC)) {
        $hay = true;
      ?>
        <a class="cardlink" href="producto.php?id=<?= (int)$p['id'] ?>">
          <article>
            <img src="<?= h(img_path($p['imagen'] ?? '')) ?>"
                 alt="Recortable <?= h($p['nombre'] ?? '') ?> para imprimir">
            <p><?= h($p['nombre'] ?? '') ?></p>
â€‹
            <?php if ($tieneCalificacion && isset($p['calificacion'])) { ?>
              <div class="calificacion">â­ <?= h($p['calificacion']) ?></div>
            <?php } ?>
â€‹
            <?php if (isset($p['precio'])) { ?>
              <p class="precio"><?= number_format((float)$p['precio'], 2) ?> â‚¬</p>
            <?php } ?>
â€‹
            <?php if ($tieneFecha && !empty($p['fecha'])) { ?>
              <p class="fecha">ğŸ“… <?= h($p['fecha']) ?></p>
            <?php } ?>
          </article>
        </a>
      <?php } ?>
â€‹
      <?php if (!$hay) { ?>
        <p>No se encontraron resultados.</p>
      <?php } ?>
    </div>
  </section>
</main>
â€‹
<footer>
  <p>Â© 2026 Serena Sania Esteve</p>
  <p>Proyecto realizado con HTML, CSS y PHP</p>
</footer>
â€‹
</body>
</html>
```
â€‹
â€‹
carrito.php:
```
<?php
session_start();
â€‹
require_once __DIR__ . '/seo.php';
â€‹
$db = new SQLite3(__DIR__ . '/recortables.db');
â€‹
function h($s): string {
  return htmlspecialchars((string)$s, ENT_QUOTES, 'UTF-8');
}
â€‹
function img_path(string $p): string {
  $p = trim((string)$p);
  if ($p === '') return '';
  if (preg_match('#^(https?://|data:)#i', $p)) return $p;
â€‹
  $p = ltrim($p, '/');
â€‹
  if (file_exists(__DIR__ . '/' . $p)) return $p;
  if (file_exists(__DIR__ . '/img/' . $p)) return 'img/' . $p;
â€‹
  return $p;
}
â€‹
/* Resolver ruta local (para ZIP). Devuelve path absoluto o '' */
function img_local_abspath(string $img): string {
  $img = trim((string)$img);
  if ($img === '') return '';
  if (preg_match('#^(https?://|data:)#i', $img)) return '';
â€‹
  $img = ltrim($img, '/');
â€‹
  $candidates = [
    __DIR__ . '/' . $img,
    __DIR__ . '/img/' . $img,
  ];
â€‹
  foreach ($candidates as $c) {
    if (file_exists($c)) return $c;
  }
  return '';
}
â€‹
/* =======================
   CARRITO (SESSION)
======================= */
if (!isset($_SESSION['carrito']) || !is_array($_SESSION['carrito'])) {
  $_SESSION['carrito'] = [];
}
â€‹
// AÃ±adir (desde producto)
if (isset($_GET['add'])) {
  $id = (int)$_GET['add'];
  if ($id > 0) {
    $_SESSION['carrito'][$id] = ($_SESSION['carrito'][$id] ?? 0) + 1;
  }
  header('Location: carrito.php');
  exit;
}
â€‹
// Incrementar (+) desde carrito
if (isset($_GET['inc'])) {
  $id = (int)$_GET['inc'];
  if ($id > 0) {
    $_SESSION['carrito'][$id] = ($_SESSION['carrito'][$id] ?? 0) + 1;
  }
  header('Location: carrito.php');
  exit;
}
â€‹
// Decrementar (-) desde carrito
if (isset($_GET['dec'])) {
  $id = (int)$_GET['dec'];
  if ($id > 0 && isset($_SESSION['carrito'][$id])) {
    $_SESSION['carrito'][$id] = max(0, (int)$_SESSION['carrito'][$id] - 1);
    if ($_SESSION['carrito'][$id] <= 0) {
      unset($_SESSION['carrito'][$id]);
    }
  }
  header('Location: carrito.php');
  exit;
}
â€‹
// Eliminar producto (quita el item completo)
if (isset($_GET['eliminar'])) {
  $id = (int)$_GET['eliminar'];
  if ($id > 0 && isset($_SESSION['carrito'][$id])) {
    unset($_SESSION['carrito'][$id]);
  }
  header('Location: carrito.php');
  exit;
}
â€‹
// Vaciar
if (isset($_GET['vaciar'])) {
  $_SESSION['carrito'] = [];
  header('Location: carrito.php');
  exit;
}
â€‹
$carrito = $_SESSION['carrito'];
$carritoCount = !empty($carrito) ? array_sum($carrito) : 0;
â€‹
/* =======================
   Descargar ZIP
   (una vez por producto, aunque haya cantidad)
======================= */
if (isset($_GET['zip']) && !empty($carrito)) {
  $ids = array_keys($carrito);
  $in = implode(',', array_map('intval', $ids));
â€‹
  $res = $db->query("SELECT id, nombre, imagen FROM productos WHERE id IN ($in)");
â€‹
  $zip = new ZipArchive();
  $zipName = 'carrito_recortables.zip';
  $tmpZip = tempnam(sys_get_temp_dir(), 'zip_');
â€‹
  if ($zip->open($tmpZip, ZipArchive::OVERWRITE) === true) {
    while ($p = $res->fetchArray(SQLITE3_ASSOC)) {
      $img = img_path((string)($p['imagen'] ?? ''));
      $abs = img_local_abspath($img);
      if ($abs !== '') {
        $zip->addFile($abs, basename($abs));
      }
    }
    $zip->close();
â€‹
    header('Content-Type: application/zip');
    header('Content-Disposition: attachment; filename="'.$zipName.'"');
    header('Content-Length: ' . filesize($tmpZip));
    readfile($tmpZip);
    @unlink($tmpZip);
    exit;
  }
}
?>
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
â€‹
  <?php
  seo(
    "Carrito de recortables",
    "Tu selecciÃ³n de recortables imprimibles.",
    canonical_url(),
    true // NOINDEX
  );
  ?>
â€‹
  <link rel="stylesheet" href="styles.css" />
â€‹
  <style>
    /* Ajustes mÃ­nimos para + / - */
    .qty-row{display:flex;align-items:center;justify-content:center;gap:10px;margin-top:10px}
    .qty-num{font-weight:bold;min-width:28px;text-align:center}
    .qty-btn{width:44px;height:38px;border-radius:14px;display:inline-flex;align-items:center;justify-content:center}
  </style>
</head>
<body>
â€‹
<header>
  <h1>Carrito</h1>
  <p>Recortables seleccionados</p>
â€‹
  <a class="cart-link" href="carrito.php" aria-label="Carrito">ğŸ›’
    <?php if ($carritoCount > 0) { ?><span class="cart-badge"><?= (int)$carritoCount ?></span><?php } ?>
  </a>
</header>
â€‹
<main>
  <section>
    <?php if (empty($carrito)) { ?>
      <p style="text-align:center;">Tu carrito estÃ¡ vacÃ­o.</p>
      <div style="text-align:center; margin-top:20px;">
        <a class="btn" href="index.php">â¬… Volver</a>
      </div>
    <?php } else { ?>
â€‹
      <?php
      $ids = array_keys($carrito);
      $in = implode(',', array_map('intval', $ids));
      $res = $db->query("SELECT id, nombre, imagen FROM productos WHERE id IN ($in) ORDER BY id DESC");
      ?>
â€‹
      <div class="contenedor">
        <?php while ($p = $res->fetchArray(SQLITE3_ASSOC)) {
          $pid = (int)$p['id'];
          $qty = (int)($carrito[$pid] ?? 0);
        ?>
          <article class="destacado">
            <img src="<?= h(img_path($p['imagen'] ?? '')) ?>"
                 alt="Recortable <?= h($p['nombre'] ?? '') ?> para imprimir">
            <p><?= h($p['nombre'] ?? '') ?></p>
â€‹
            <div class="qty-row">
              <a class="btn secundario qty-btn" href="carrito.php?dec=<?= $pid ?>" aria-label="Restar">âˆ’</a>
              <span class="qty-num"><?= $qty ?></span>
              <a class="btn qty-btn" href="carrito.php?inc=<?= $pid ?>" aria-label="Sumar">+</a>
            </div>
â€‹
            <div style="margin-top:12px;">
              <a class="btn secundario" href="carrito.php?eliminar=<?= $pid ?>" aria-label="Eliminar">âŒ</a>
            </div>
          </article>
        <?php } ?>
      </div>
â€‹
      <div style="text-align:center; margin-top:22px;">
        <a class="btn" href="index.php">â¬… Seguir viendo recortables</a>
        <a class="btn secundario" href="carrito.php?vaciar=1">Vaciar carrito</a>
        <a class="btn" href="carrito.php?zip=1">â¬‡ Descargar carrito (ZIP)</a>
      </div>
â€‹
    <?php } ?>
  </section>
</main>
â€‹
<footer>
  <p>Â© 2026 Serena Sania Esteve</p>
  <p>Proyecto realizado con HTML, CSS y PHP</p>
</footer>
â€‹
</body>
</html>
```
â€‹
â€‹
categoria.php:
```
<?php
session_start();
â€‹
require_once __DIR__ . '/seo.php';
â€‹
$db = new SQLite3(__DIR__ . '/recortables.db');
â€‹
function hasCol(SQLite3 $db, string $table, string $col): bool {
  $res = $db->query("PRAGMA table_info($table)");
  while ($r = $res->fetchArray(SQLITE3_ASSOC)) if (($r['name'] ?? '') === $col) return true;
  return false;
}
â€‹
function h($s): string {
  return htmlspecialchars((string)$s, ENT_QUOTES, 'UTF-8');
}
â€‹
function img_path(string $p): string {
  $p = trim($p);
  if ($p === '') return '';
  if (preg_match('#^(https?://|data:)#i', $p)) return $p;
  $p = ltrim($p, '/');
  if (file_exists(__DIR__ . '/' . $p)) return $p;
  if (file_exists(__DIR__ . '/img/' . $p)) return 'img/' . $p;
  return $p;
}
â€‹
$carritoCount = isset($_SESSION['carrito']) ? array_sum($_SESSION['carrito']) : 0;
â€‹
$c = isset($_GET['c']) ? trim($_GET['c']) : '';
if ($c === '') { echo "CategorÃ­a no vÃ¡lida"; exit; }
â€‹
$tieneCategoria    = hasCol($db, 'productos', 'categoria');
$tieneCalificacion = hasCol($db, 'productos', 'calificacion');
$tienePrecio       = hasCol($db, 'productos', 'precio');
$tieneFecha        = hasCol($db, 'productos', 'fecha');
â€‹
$cols = "id, nombre, imagen" .
  ($tieneCalificacion ? ", calificacion" : "") .
  ($tienePrecio ? ", precio" : "") .
  ($tieneFecha ? ", fecha" : "");
â€‹
if ($tieneCategoria) {
  $stmt = $db->prepare("SELECT $cols FROM productos WHERE categoria = :c ORDER BY id DESC");
  $stmt->bindValue(':c', $c, SQLITE3_TEXT);
} else {
  echo "La tabla no tiene columna 'categoria'"; exit;
}
â€‹
$res = $stmt->execute();
?>
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
â€‹
  <?php
  seo(
    "Recortables de " . $c . " para imprimir",
    "Explora recortables de " . $c . " listos para imprimir. Manualidades creativas y educativas.",
    canonical_url()
  );
  ?>
â€‹
  <link rel="stylesheet" href="styles.css">
</head>
<body>
â€‹
<header>
  <h1>Juguetes Recortables</h1>
  <p>CategorÃ­a: <?= h($c) ?></p>
â€‹
  <a class="cart-link" href="carrito.php" aria-label="Carrito">ğŸ›’
    <?php if ($carritoCount > 0) { ?><span class="cart-badge"><?= (int)$carritoCount ?></span><?php } ?>
  </a>
</header>
â€‹
<main>
  <section>
    <h3>Recortables en <?= h($c) ?></h3>
â€‹
    <div class="contenedor">
      <?php
      $hay = false;
      while ($p = $res->fetchArray(SQLITE3_ASSOC)) {
        $hay = true;
      ?>
        <a class="cardlink" href="producto.php?id=<?= (int)$p['id'] ?>">
          <article>
            <img src="<?= h(img_path($p['imagen'] ?? '')) ?>"
                 alt="Recortable <?= h($p['nombre'] ?? '') ?> para imprimir">
            <p><?= h($p['nombre'] ?? '') ?></p>
â€‹
            <?php if ($tieneCalificacion && isset($p['calificacion'])) { ?>
              <div class="calificacion">â­ <?= h($p['calificacion']) ?></div>
            <?php } ?>
â€‹
            <?php if ($tienePrecio && isset($p['precio'])) { ?>
              <p class="precio"><?= number_format((float)$p['precio'], 2) ?> â‚¬</p>
            <?php } ?>
â€‹
            <?php if (isset($p['fecha']) && $p['fecha']) { ?>
              <p class="fecha">ğŸ“… <?= h($p['fecha']) ?></p>
            <?php } ?>
          </article>
        </a>
      <?php } ?>
â€‹
      <?php if (!$hay) { ?>
        <p>No hay recortables en esta categorÃ­a.</p>
      <?php } ?>
    </div>
â€‹
    <section class="seo-text">
      <p style="max-width:900px;margin:20px auto 0;text-align:center;">
        Los recortables de <?= h($c) ?> son perfectos para fomentar la creatividad y el aprendizaje mediante
        manualidades imprimibles listas para usar en casa o en clase.
      </p>
    </section>
â€‹
    <div style="text-align:center; margin-top:20px;">
      <a class="btn" href="index.php">â¬… Volver</a>
    </div>
  </section>
</main>
â€‹
<footer>
  <p>Â© 2026 Serena Sania Esteve</p>
  <p>Proyecto realizado con HTML, CSS y PHP</p>
</footer>
â€‹
</body>
</html>
```
â€‹
â€‹
index.php:
```
<?php
session_start();
â€‹
require_once __DIR__ . '/seo.php';
â€‹
$db = new SQLite3(__DIR__ . '/recortables.db');
â€‹
function hasCol(SQLite3 $db, string $table, string $col): bool {
  $res = $db->query("PRAGMA table_info($table)");
  while ($r = $res->fetchArray(SQLITE3_ASSOC)) {
    if (($r['name'] ?? '') === $col) return true;
  }
  return false;
}
â€‹
function h($s): string {
  return htmlspecialchars((string)$s, ENT_QUOTES, 'UTF-8');
}
â€‹
function img_path(string $p): string {
  $p = trim($p);
  if ($p === '') return '';
  if (preg_match('#^(https?://|data:)#i', $p)) return $p;
â€‹
  $p = ltrim($p, '/');
â€‹
  if (file_exists(__DIR__ . '/' . $p)) return $p;
  if (file_exists(__DIR__ . '/img/' . $p)) return 'img/' . $p;
â€‹
  return $p;
}
â€‹
$carritoCount = isset($_SESSION['carrito']) ? array_sum($_SESSION['carrito']) : 0;
â€‹
$tieneCategoria    = hasCol($db, 'productos', 'categoria');
$tieneCalificacion = hasCol($db, 'productos', 'calificacion');
$tienePrecio       = hasCol($db, 'productos', 'precio');
$tieneFecha        = hasCol($db, 'productos', 'fecha');
â€‹
// CategorÃ­as (si existe columna)
$categorias = [];
if ($tieneCategoria) {
  $resC = $db->query("SELECT DISTINCT categoria FROM productos WHERE categoria IS NOT NULL AND TRIM(categoria) <> '' ORDER BY categoria ASC");
  while ($r = $resC->fetchArray(SQLITE3_ASSOC)) {
    $categorias[] = (string)$r['categoria'];
  }
}
â€‹
// Destacados (por calificaciÃ³n o Ãºltimos)
$destacados = [];
if ($tieneCalificacion) {
  $cols = "id, nombre, imagen" . ($tienePrecio ? ", precio" : "") . ", calificacion";
  $resD = $db->query("SELECT $cols FROM productos ORDER BY calificacion DESC, id DESC LIMIT 8");
} else {
  $cols = "id, nombre, imagen" . ($tienePrecio ? ", precio" : "");
  $resD = $db->query("SELECT $cols FROM productos ORDER BY id DESC LIMIT 8");
}
while ($r = $resD->fetchArray(SQLITE3_ASSOC)) $destacados[] = $r;
â€‹
â€‹
$hero = 'img/banner.jpg';
if (!file_exists(__DIR__ . '/' . $hero)) {
  $hero = '';
  foreach ($destacados as $d) {
    $cand = img_path((string)($d['imagen'] ?? ''));
    if ($cand !== '') { $hero = $cand; break; }
  }
}
?>
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
â€‹
  <?php
  seo(
    "Recortables imprimibles para niÃ±os y adultos",
    "Descubre recortables imprimibles por categorÃ­as. Manualidades educativas y creativas listas para imprimir.",
    canonical_url()
  );
  ?>
â€‹
  <link rel="stylesheet" href="styles.css">
</head>
<body>
â€‹
<header class="hero">
  <?php if ($hero !== ''): ?>
    <img class="hero-img" src="<?= h($hero) ?>" alt="Recortables imprimibles para niÃ±os y adultos">
  <?php endif; ?>
â€‹
  <div class="hero-content">
    <div class="hero-box">
      <h1>Recortables imprimibles</h1>
      <p>Manualidades educativas y creativas para imprimir</p>
â€‹
      <div class="hero-botones">
        <a class="btn" href="#categorias">Ver categorÃ­as</a>
        <a class="btn secundario" href="#destacados">Destacados</a>
      </div>
    </div>
  </div>
â€‹
  <a class="cart-link" href="carrito.php" aria-label="Carrito">ğŸ›’
    <?php if ($carritoCount > 0) { ?><span class="cart-badge"><?= (int)$carritoCount ?></span><?php } ?>
  </a>
</header>
â€‹
<main>
â€‹
  <section>
    <form class="buscador" action="buscar.php" method="get">
      <input type="text" name="q" placeholder="Buscar recortables..." aria-label="Buscar recortables">
      <button class="btn" type="submit">Buscar</button>
    </form>
  </section>
â€‹
  <section id="categorias">
    <h2 style="text-align:center; margin-bottom:20px;">CategorÃ­as de recortables</h2>
â€‹
    <div class="contenedor">
      <?php if (!$tieneCategoria || empty($categorias)): ?>
        <p style="text-align:center;">No hay categorÃ­as disponibles.</p>
      <?php else: ?>
        <?php foreach ($categorias as $cat): ?>
          <a class="cardlink" href="categoria.php?c=<?= urlencode($cat) ?>">
            <article>
              <p><?= h($cat) ?></p>
            </article>
          </a>
        <?php endforeach; ?>
      <?php endif; ?>
    </div>
  </section>
â€‹
  <section id="destacados">
    <h2 style="text-align:center; margin-bottom:20px;">Recortables destacados</h2>
â€‹
    <div class="contenedor">
      <?php foreach ($destacados as $p): ?>
        <a class="cardlink" href="producto.php?id=<?= (int)$p['id'] ?>">
          <article class="destacado">
            <img src="<?= h(img_path($p['imagen'] ?? '')) ?>" alt="Recortable <?= h($p['nombre'] ?? '') ?> para imprimir">
            <p><?= h($p['nombre'] ?? '') ?></p>
â€‹
            <?php if ($tieneCalificacion && isset($p['calificacion'])): ?>
              <div class="calificacion">â­ <?= h($p['calificacion']) ?></div>
            <?php endif; ?>
â€‹
            <?php if ($tienePrecio && isset($p['precio'])): ?>
              <p class="precio"><?= number_format((float)$p['precio'], 2) ?> â‚¬</p>
            <?php endif; ?>
          </article>
        </a>
      <?php endforeach; ?>
    </div>
  </section>
â€‹
  <section class="seo-text">
    <p style="max-width:900px;margin:0 auto;text-align:center;">
      En esta web encontrarÃ¡s recortables imprimibles ideales para trabajar la creatividad, la motricidad fina y el
      aprendizaje de forma divertida tanto en casa como en el aula.
    </p>
  </section>
â€‹
</main>
â€‹
<footer>
  <p>Â© 2026 Serena Sania Esteve</p>
  <p>Proyecto realizado con HTML, CSS y PHP</p>
</footer>
â€‹
</body>
</html>
```
â€‹
â€‹
producto.php:
```
<?php
session_start();
â€‹
require_once __DIR__ . '/seo.php';
â€‹
$db = new SQLite3(__DIR__ . '/recortables.db');
â€‹
function hasCol(SQLite3 $db, string $table, string $col): bool {
  $res = $db->query("PRAGMA table_info($table)");
  while ($r = $res->fetchArray(SQLITE3_ASSOC)) if (($r['name'] ?? '') === $col) return true;
  return false;
}
â€‹
function h($s): string {
  return htmlspecialchars((string)$s, ENT_QUOTES, 'UTF-8');
}
â€‹
function img_path(string $p): string {
  $p = trim($p);
  if ($p === '') return '';
  if (preg_match('#^(https?://|data:)#i', $p)) return $p;
  $p = ltrim($p, '/');
  if (file_exists(__DIR__ . '/' . $p)) return $p;
  if (file_exists(__DIR__ . '/img/' . $p)) return 'img/' . $p;
  return $p;
}
â€‹
$carritoCount = isset($_SESSION['carrito']) ? array_sum($_SESSION['carrito']) : 0;
â€‹
$tienePrecio       = hasCol($db, 'productos', 'precio');
$tieneCalificacion = hasCol($db, 'productos', 'calificacion');
$tieneFecha        = hasCol($db, 'productos', 'fecha');
$tieneCategoria    = hasCol($db, 'productos', 'categoria');
â€‹
$id = isset($_GET['id']) ? (int)$_GET['id'] : 0;
if ($id <= 0) { echo "ID no vÃ¡lido"; exit; }
â€‹
$cols = "id, nombre, descripcion, imagen" .
  ($tienePrecio ? ", precio" : "") .
  ($tieneCalificacion ? ", calificacion" : "") .
  ($tieneFecha ? ", fecha" : "") .
  ($tieneCategoria ? ", categoria" : "");
â€‹
$stmt = $db->prepare("SELECT $cols FROM productos WHERE id = :id");
$stmt->bindValue(':id', $id, SQLITE3_INTEGER);
$producto = $stmt->execute()->fetchArray(SQLITE3_ASSOC);
if (!$producto) { echo "Producto no encontrado"; exit; }
â€‹
// Sugerencias
$sug = [];
$resS = $db->query("SELECT id, nombre, imagen" . ($tienePrecio ? ", precio" : "") . " FROM productos WHERE id <> $id ORDER BY RANDOM() LIMIT 4");
while ($r = $resS->fetchArray(SQLITE3_ASSOC)) $sug[] = $r;
?>
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
â€‹
  <?php
  $name = (string)($producto['nombre'] ?? 'Recortable');
  seo(
    $name . " para imprimir | Recortable",
    "Descarga e imprime el recortable \"" . $name . "\". Manualidades creativas y educativas listas para usar.",
    canonical_url()
  );
  ?>
â€‹
  <link rel="stylesheet" href="styles.css">
</head>
<body>
â€‹
<header>
  <h1>Juguetes Recortables</h1>
  <p><?= h($producto['nombre']) ?></p>
â€‹
  <a class="cart-link" href="carrito.php" aria-label="Carrito">ğŸ›’
    <?php if ($carritoCount > 0) { ?><span class="cart-badge"><?= (int)$carritoCount ?></span><?php } ?>
  </a>
</header>
â€‹
<main>
  <section class="producto">
    <div class="producto-card">
      <div class="producto">
        <img class="producto-img"
             src="<?= h(img_path($producto['imagen'] ?? '')) ?>"
             alt="Recortable <?= h($producto['nombre'] ?? '') ?> para imprimir">
â€‹
        <div class="producto-info">
          <h2><?= h($producto['nombre'] ?? '') ?> para imprimir</h2>
â€‹
          <?php if (!empty($producto['descripcion'])): ?>
            <p><?= nl2br(h($producto['descripcion'])) ?></p>
          <?php endif; ?>
â€‹
          <?php if ($tienePrecio && isset($producto['precio'])): ?>
            <p class="precio"><?= number_format((float)$producto['precio'], 2) ?> â‚¬</p>
          <?php endif; ?>
â€‹
          <?php if ($tieneCalificacion && isset($producto['calificacion'])): ?>
            <div class="calificacion">â­ <?= h($producto['calificacion']) ?></div>
          <?php endif; ?>
â€‹
          <?php if ($tieneFecha && !empty($producto['fecha'])): ?>
            <p class="fecha">ğŸ“… <?= h($producto['fecha']) ?></p>
          <?php endif; ?>
â€‹
          <div style="margin-top:14px;">
            <a class="btn" href="carrito.php?add=<?= (int)$producto['id'] ?>">AÃ±adir al carrito</a>
            <?php if ($tieneCategoria && !empty($producto['categoria'])): ?>
              <a class="btn secundario" href="categoria.php?c=<?= urlencode((string)$producto['categoria']) ?>">Ver categorÃ­a</a>
            <?php endif; ?>
          </div>
        </div>
      </div>
â€‹
      <section class="seo-text" style="margin-top:14px;">
        <p>
          Este recortable imprimible es ideal para actividades educativas, manualidades creativas y trabajo de la
          motricidad fina. Imprime, recorta y juega.
        </p>
      </section>
    </div>
  </section>
â€‹
  <?php if (!empty($sug)) { ?>
    <section>
      <h3>TambiÃ©n te puede gustar</h3>
      <div class="contenedor">
        <?php foreach ($sug as $s) { ?>
          <a class="cardlink" href="producto.php?id=<?= (int)$s['id'] ?>">
            <article class="destacado">
              <img src="<?= h(img_path($s['imagen'] ?? '')) ?>" alt="Recortable <?= h($s['nombre'] ?? '') ?> para imprimir">
              <h4><?= h($s['nombre'] ?? '') ?></h4>
              <?php if (isset($s['precio'])) { ?>
                <p class="precio"><?= number_format((float)$s['precio'], 2) ?> â‚¬</p>
              <?php } ?>
            </article>
          </a>
        <?php } ?>
      </div>
    </section>
  <?php } ?>
</main>
â€‹
<footer>
  <p>Â© 2026 Serena Sania Esteve</p>
  <p>Proyecto realizado con HTML, CSS y PHP</p>
</footer>
â€‹
</body>
</html>
```
â€‹
â€‹
seo.php:
```
<?php
declare(strict_types=1);
â€‹
function seo(string $title, string $description, ?string $canonical = null, bool $noindex = false): void {
  echo "<title>" . htmlspecialchars($title, ENT_QUOTES, 'UTF-8') . "</title>\n";
  echo '<meta name="description" content="' . htmlspecialchars($description, ENT_QUOTES, 'UTF-8') . '">' . "\n";
â€‹
  if ($canonical) {
    echo '<link rel="canonical" href="' . htmlspecialchars($canonical, ENT_QUOTES, 'UTF-8') . '">' . "\n";
  }
â€‹
  if ($noindex) {
    echo '<meta name="robots" content="noindex, nofollow">' . "\n";
  }
}
â€‹
â€‹
function canonical_url(): string {
  $https = (!empty($_SERVER['HTTPS']) && $_SERVER['HTTPS'] !== 'off');
  $scheme = $https ? 'https' : 'http';
  $host = $_SERVER['HTTP_HOST'] ?? 'localhost';
  $uri = $_SERVER['REQUEST_URI'] ?? '/';
  $uri = explode('#', $uri, 2)[0];
  return $scheme . '://' . $host . $uri;
}
```
â€‹
â€‹
styles.css:
```
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
â€‹
:root {
  --principal: #ff6f61;
  --secundario: #4dabf7;
  --fondo: #f8f9fa;
  --oscuro: #333;
  --claro: #ffffff;
}
â€‹
body {
  font-family: Arial, Helvetica, sans-serif;
  background-color: var(--fondo);
  color: var(--oscuro);
  line-height: 1.6;
}
â€‹
img {
  width: 100%;
  border-radius: 10px;
}
â€‹
/* ===== HEADER NORMAL (NO HERO) ===== */
header:not(.hero) {
  background-color: var(--principal);
  color: var(--claro);
  text-align: center;
  padding: 20px;
  position: relative;
}
â€‹
/* ===== CARRITO ===== */
.cart-link {
  position: absolute;
  top: 16px;
  right: 16px;
  font-size: 1.6rem;
  text-decoration: none;
  color: white;
  line-height: 1;
  z-index: 10;
}
â€‹
.cart-badge {
  position: absolute;
  top: -10px;
  right: -12px;
  background: #ff3b30;
  color: white;
  font-size: 0.75rem;
  font-weight: bold;
  border-radius: 999px;
  padding: 3px 7px;
  min-width: 18px;
  text-align: center;
  z-index: 11;
}
â€‹
/* ===== HERO / BANNER ===== */
header.hero {
  padding: 0;
  background: transparent;
  position: relative;
  overflow: hidden;
  height: 825px;
}
â€‹
header.hero .hero-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  border-radius: 0;
}
â€‹
header.hero .hero-content {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  padding: 18px;
  background: linear-gradient(
    to top,
    rgba(0, 0, 0, 0.6),
    rgba(0, 0, 0, 0)
  );
}
â€‹
header.hero .hero-box {
  text-align: center;
  color: white;
}
â€‹
header.hero .hero-box h1 {
  margin-bottom: 12px;
  font-size: 1.6rem;
  text-shadow: 0 2px 10px rgba(0,0,0,.4);
}
â€‹
header.hero .hero-botones {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  justify-content: center;
}
â€‹
/* ===== SECCIONES ===== */
section {
  padding: 30px 20px;
}
â€‹
section h3 {
  text-align: center;
  margin-bottom: 20px;
}
â€‹
/* ===== CONTENEDORES ===== */
.contenedor {
  display: flex;
  justify-content: center;
  gap: 20px;
  flex-wrap: wrap;
}
â€‹
/* ===== TARJETAS ===== */
article {
  background-color: var(--claro);
  width: 150px;
  padding: 15px;
  text-align: center;
  border-radius: 15px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
  transition: transform 0.2s ease;
}
â€‹
article:hover {
  transform: translateY(-5px);
}
â€‹
article p {
  margin-top: 10px;
  font-weight: bold;
}
â€‹
.destacado {
  width: 220px;
}
â€‹
.calificacion {
  margin-top: 8px;
  font-size: 1.1rem;
  color: #f4b400;
}
â€‹
.precio {
  margin-top: 6px;
  font-weight: bold;
}
â€‹
.fecha {
  margin-top: 6px;
  font-size: 0.9rem;
  color: #555;
}
â€‹
/* ===== LINKS ===== */
.cardlink {
  display: block;
  color: inherit;
  text-decoration: none;
}
â€‹
/* ===== BOTONES ===== */
.btn {
  display: inline-block;
  margin: 6px;
  padding: 10px 16px;
  border: none;
  border-radius: 20px;
  background: var(--principal);
  color: white;
  font-weight: bold;
  text-decoration: none;
  cursor: pointer;
}
â€‹
.btn:hover {
  opacity: 0.9;
}
â€‹
.btn.secundario {
  background: var(--secundario);
}
â€‹
/* ===== BUSCADOR ===== */
.buscador {
  display: flex;
  gap: 10px;
  justify-content: center;
  flex-wrap: wrap;
  margin: 10px 0 20px;
}
â€‹
.buscador input {
  padding: 10px 14px;
  border-radius: 20px;
  border: 1px solid #ddd;
  min-width: 260px;
  outline: none;
}
/* ===== FICHA PRODUCTO ===== */
.producto {
  display: flex;
  justify-content: center;
  gap: 24px;
  flex-wrap: wrap;
}
â€‹
.producto-card {
  background: white;
  border-radius: 16px;
  padding: 18px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
  max-width: 900px;
  width: 100%;
}
â€‹
.producto-img {
  max-width: 360px;
  width: 100%;
  border-radius: 14px;
}
â€‹
.producto-info {
  max-width: 460px;
  text-align: left;
}
â€‹
.badge {
  display: inline-block;
  margin-left: 8px;
  padding: 3px 8px;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: bold;
  background: gold;
  color: #333;
  vertical-align: middle;
}
â€‹
/* ===== FOOTER ===== */
footer {
  background-color: var(--oscuro);
  color: white;
  text-align: center;
  padding: 15px;
  font-size: 0.9rem;
}
â€‹
/* ===== RESPONSIVE ===== */
@media (max-width: 600px) {
  article { width: 120px; }
  .destacado { width: 180px; }
â€‹
  header.hero {
    height: 180px;
  }
â€‹
  header.hero .hero-box h1 {
    font-size: 1.2rem;
  }
}
html { scroll-behavior: smooth; }
```
â€‹
â€‹
admin/auth.php:
```
<?php
// admin/auth.php
declare(strict_types=1);
â€‹
session_start();
require_once __DIR__ . '/config.php';
â€‹
function require_admin(): void {
  if (empty($_SESSION['admin_ok'])) {
    header('Location: login.php');
    exit;
  }
}
â€‹
function csrf_token(): string {
  if (empty($_SESSION['csrf_token'])) {
    $_SESSION['csrf_token'] = bin2hex(random_bytes(32));
  }
  return $_SESSION['csrf_token'];
}
â€‹
function verify_csrf(string $token): void {
  $sess = $_SESSION['csrf_token'] ?? '';
  if ($sess === '' || !hash_equals($sess, $token)) {
    http_response_code(403);
    exit('CSRF token invÃ¡lido');
  }
}
```
â€‹
admin/config.php:
```
<?php
// admin/config.php
declare(strict_types=1);
â€‹
// Ruta a tu BD (en la raÃ­z del proyecto)
define('DB_PATH', dirname(__DIR__) . '/recortables.db');
â€‹
// Usuario/clave del admin (cÃ¡mbialo)
define('ADMIN_USER', 'admin');
define('ADMIN_PASS', 'admin123');
â€‹
function db(): SQLite3 {
  $db = new SQLite3(DB_PATH);
  $db->busyTimeout(3000);
  return $db;
}
â€‹
function h($s): string {
  return htmlspecialchars((string)$s, ENT_QUOTES, 'UTF-8');
}
â€‹
â€‹
$script = str_replace('\\', '/', $_SERVER['SCRIPT_NAME'] ?? '/admin/index.php');
$base = dirname(dirname($script)); // sube desde /admin/archivo.php a /
$base = rtrim($base, '/');
define('BASE_URL', $base === '' ? '/' : $base);
â€‹
define('ADMIN_URL', rtrim(BASE_URL, '/') . '/admin');
```
â€‹
â€‹
admin/delete.php:
```
<?php
declare(strict_types=1);
â€‹
require_once __DIR__ . '/auth.php';
require_admin();
require_once __DIR__ . '/config.php';
â€‹
// Solo permitir POST (acciÃ³n destructiva)
if ($_SERVER['REQUEST_METHOD'] !== 'POST') {
  header('Location: index.php');
  exit;
}
â€‹
verify_csrf((string)($_POST['csrf_token'] ?? ''));
â€‹
$id = isset($_POST['id']) ? (int)$_POST['id'] : 0;
if ($id <= 0) {
  header('Location: index.php');
  exit;
}
â€‹
$db = db();
$st = $db->prepare("DELETE FROM productos WHERE id = :id");
$st->bindValue(':id', $id, SQLITE3_INTEGER);
$st->execute();
â€‹
header('Location: index.php');
exit;
```
â€‹
â€‹
admin/edit.php:
```
<?php
declare(strict_types=1);
â€‹
require_once __DIR__ . '/auth.php';
require_admin();
require_once __DIR__ . '/config.php';
â€‹
$db = db();
â€‹
$id = isset($_GET['id']) ? (int)$_GET['id'] : 0;
$modoEditar = $id > 0;
â€‹
$producto = [
  'nombre' => '',
  'descripcion' => '',
  'categoria' => '',
  'calificacion' => '',
  'imagen' => ''
];
â€‹
if ($modoEditar) {
  $st = $db->prepare("SELECT * FROM productos WHERE id = :id");
  $st->bindValue(':id', $id, SQLITE3_INTEGER);
  $r = $st->execute()->fetchArray(SQLITE3_ASSOC);
  if ($r) $producto = array_merge($producto, $r);
}
â€‹
$error = '';
$token = csrf_token();
â€‹
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
  verify_csrf((string)($_POST['csrf_token'] ?? ''));
â€‹
  $nombre = trim((string)($_POST['nombre'] ?? ''));
  $descripcion = trim((string)($_POST['descripcion'] ?? ''));
  $categoria = trim((string)($_POST['categoria'] ?? ''));
  $calificacion = trim((string)($_POST['calificacion'] ?? ''));
  $imagenActual = trim((string)($_POST['imagen_actual'] ?? ''));
â€‹
  if ($nombre === '') {
    $error = 'El nombre es obligatorio';
  }
â€‹
  // Subida de imagen (opcional)
  $imagenRuta = $imagenActual;
â€‹
  if (!$error && !empty($_FILES['imagen']['name'])) {
    $tmp = (string)($_FILES['imagen']['tmp_name'] ?? '');
    $err = (int)($_FILES['imagen']['error'] ?? UPLOAD_ERR_NO_FILE);
â€‹
    if ($err === UPLOAD_ERR_OK && is_uploaded_file($tmp)) {
      $finfo = finfo_open(FILEINFO_MIME_TYPE);
      $mime = finfo_file($finfo, $tmp);
      finfo_close($finfo);
â€‹
      $permitidos = ['image/jpeg'=>'jpg','image/png'=>'png','image/webp'=>'webp'];
      if (!isset($permitidos[$mime])) {
        $error = 'Formato de imagen no permitido (solo JPG/PNG/WEBP)';
      } else {
        $ext = $permitidos[$mime];
        $nombreSeguro = preg_replace('/[^a-zA-Z0-9_-]/','_', pathinfo((string)$_FILES['imagen']['name'], PATHINFO_FILENAME));
        $finalName = $nombreSeguro . '_' . time() . '.' . $ext;
â€‹
        $dir = dirname(__DIR__) . '/img';
        if (!is_dir($dir)) mkdir($dir, 0777, true);
â€‹
        $dest = $dir . '/' . $finalName;
        if (move_uploaded_file($tmp, $dest)) {
          $imagenRuta = 'img/' . $finalName;
        } else {
          $error = 'No se pudo guardar la imagen';
        }
      }
    } elseif ($err !== UPLOAD_ERR_NO_FILE) {
      $error = 'Error subiendo la imagen';
    }
  }
â€‹
  if (!$error) {
    if ($modoEditar) {
      $st = $db->prepare("UPDATE productos
        SET nombre=:n, descripcion=:d, categoria=:c, calificacion=:cal, imagen=:i
        WHERE id=:id");
      $st->bindValue(':id', $id, SQLITE3_INTEGER);
    } else {
      $st = $db->prepare("INSERT INTO productos (nombre, descripcion, categoria, calificacion, imagen)
        VALUES (:n, :d, :c, :cal, :i)");
    }
â€‹
    $st->bindValue(':n', $nombre, SQLITE3_TEXT);
    $st->bindValue(':d', $descripcion, SQLITE3_TEXT);
    $st->bindValue(':c', $categoria, SQLITE3_TEXT);
    $st->bindValue(':cal', $calificacion === '' ? null : (float)$calificacion, SQLITE3_FLOAT);
    $st->bindValue(':i', $imagenRuta, SQLITE3_TEXT);
â€‹
    $st->execute();
    header('Location: index.php');
    exit;
  }
â€‹
  // repoblar form
  $producto = [
    'nombre' => $nombre,
    'descripcion' => $descripcion,
    'categoria' => $categoria,
    'calificacion' => $calificacion,
    'imagen' => $imagenRuta
  ];
}
?>
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
â€‹
  <title>Admin - <?= $modoEditar ? 'Editar' : 'Nuevo' ?></title>
  <meta name="robots" content="noindex, nofollow">
â€‹
  <link rel="stylesheet" href="../styles.css">
  <style>
    .admin-box{max-width:820px;margin:20px auto;background:#fff;padding:18px;border-radius:14px;box-shadow:0 4px 10px rgba(0,0,0,.08)}
    label{display:block;margin-top:12px;margin-bottom:6px;font-weight:bold}
    input, textarea{width:100%;padding:10px 14px;border-radius:12px;border:1px solid #ddd;outline:none}
    textarea{min-height:120px;resize:vertical}
    .row{display:flex;gap:12px;flex-wrap:wrap}
    .row > div{flex:1;min-width:220px}
    .error{color:#b00020;margin-top:10px;text-align:center}
    .preview{max-width:240px;margin-top:10px}
    .actions{display:flex;gap:10px;justify-content:center;margin-top:16px;flex-wrap:wrap}
  </style>
</head>
<body>
â€‹
<header>
  <h1><?= $modoEditar ? 'Editar recortable' : 'Nuevo recortable' ?></h1>
</header>
â€‹
<main>
  <div class="admin-box">
    <form method="post" enctype="multipart/form-data">
      <input type="hidden" name="csrf_token" value="<?= h($token) ?>">
â€‹
      <label>Nombre *</label>
      <input type="text" name="nombre" value="<?= h($producto['nombre']) ?>" required>
â€‹
      <label>DescripciÃ³n</label>
      <textarea name="descripcion"><?= h($producto['descripcion']) ?></textarea>
â€‹
      <div class="row">
        <div>
          <label>CategorÃ­a</label>
          <input type="text" name="categoria" value="<?= h($producto['categoria']) ?>" placeholder="Ej: Robots">
        </div>
        <div>
          <label>CalificaciÃ³n (0-5)</label>
          <input type="number" step="0.1" min="0" max="5" name="calificacion" value="<?= h($producto['calificacion']) ?>">
        </div>
      </div>
â€‹
      <label>Imagen (subir archivo)</label>
      <input type="file" name="imagen" accept="image/png,image/jpeg,image/webp">
      <input type="hidden" name="imagen_actual" value="<?= h($producto['imagen']) ?>">
â€‹
      <?php if (!empty($producto['imagen'])): ?>
        <img class="preview" src="../<?= h(ltrim((string)$producto['imagen'],'/')) ?>" alt="">
      <?php endif; ?>
â€‹
      <div class="actions">
        <button class="btn" type="submit">Guardar</button>
        <a class="btn secundario" href="index.php">Volver</a>
      </div>
â€‹
      <?php if ($error): ?>
        <p class="error"><?= h($error) ?></p>
      <?php endif; ?>
    </form>
  </div>
</main>
â€‹
</body>
</html>
```
â€‹
admin/index.php:
```
<?php
declare(strict_types=1);
â€‹
require_once __DIR__ . '/auth.php';
require_admin();
require_once __DIR__ . '/config.php';
â€‹
$db = db();
â€‹
// Listado de productos
$res = $db->query("SELECT id, nombre, categoria, calificacion, imagen FROM productos ORDER BY id DESC");
$productos = [];
while ($row = $res->fetchArray(SQLITE3_ASSOC)) {
  $productos[] = $row;
}
â€‹
$token = csrf_token();
?>
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
â€‹
  <title>Admin - Productos</title>
  <meta name="robots" content="noindex, nofollow">
â€‹
  <link rel="stylesheet" href="../styles.css">
  <style>
    .admin-wrap{max-width:1100px;margin:20px auto;padding:0 14px}
    .topbar{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between;margin:16px 0}
    table{width:100%;border-collapse:collapse;background:#fff;border-radius:14px;overflow:hidden;box-shadow:0 4px 10px rgba(0,0,0,.08)}
    th,td{padding:12px 10px;border-bottom:1px solid #eee;vertical-align:middle;text-align:left}
    th{background:#f2f3f5}
    .img{width:70px}
    .img img{width:70px;height:70px;object-fit:cover;border-radius:10px}
    .actions{display:flex;gap:8px;flex-wrap:wrap}
    .mini{padding:8px 12px;border-radius:16px}
    .danger{background:#ff3b30}
  </style>
</head>
<body>
â€‹
<header>
  <h1>Panel de administraciÃ³n</h1>
</header>
â€‹
<main class="admin-wrap">
  <div class="topbar">
    <div>
      <a class="btn" href="edit.php">+ Nuevo recortable</a>
      <a class="btn secundario" href="<?= h(BASE_URL) ?>/">Ver web</a>
    </div>
    <div>
      <a class="btn secundario" href="logout.php">Salir</a>
    </div>
  </div>
â€‹
  <table>
    <thead>
      <tr>
        <th class="img">Imagen</th>
        <th>ID</th>
        <th>Nombre</th>
        <th>CategorÃ­a</th>
        <th>CalificaciÃ³n</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <?php foreach ($productos as $p): ?>
        <tr>
          <td class="img">
            <?php if (!empty($p['imagen'])): ?>
              <img src="../<?= h(ltrim((string)$p['imagen'], '/')) ?>" alt="">
            <?php endif; ?>
          </td>
          <td><?= (int)$p['id'] ?></td>
          <td><?= h($p['nombre'] ?? '') ?></td>
          <td><?= h($p['categoria'] ?? '') ?></td>
          <td><?= h($p['calificacion'] ?? '') ?></td>
          <td>
            <div class="actions">
              <a class="btn mini" href="edit.php?id=<?= (int)$p['id'] ?>">Editar</a>
â€‹
              <form action="delete.php" method="POST" onsubmit="return confirm('Â¿Seguro que quieres borrar este producto?');">
                <input type="hidden" name="id" value="<?= (int)$p['id'] ?>">
                <input type="hidden" name="csrf_token" value="<?= h($token) ?>">
                <button class="btn mini danger" type="submit">Borrar</button>
              </form>
            </div>
          </td>
        </tr>
      <?php endforeach; ?>
    </tbody>
  </table>
</main>
â€‹
</body>
</html>
```
â€‹
admin/login.php:
```
<?php
declare(strict_types=1);
â€‹
session_start();
require_once __DIR__ . '/config.php';
â€‹
// Si ya estÃ¡s logueado, entra al panel
if (!empty($_SESSION['admin_ok'])) {
  header('Location: index.php');
  exit;
}
â€‹
$error = '';
â€‹
// CSRF token para el formulario de login
if (empty($_SESSION['csrf_token'])) {
  $_SESSION['csrf_token'] = bin2hex(random_bytes(32));
}
â€‹
if ($_SERVER['REQUEST_METHOD'] === 'POST') {
  $token = (string)($_POST['csrf_token'] ?? '');
  if (!hash_equals($_SESSION['csrf_token'], $token)) {
    $error = 'SesiÃ³n caducada. Recarga e intÃ©ntalo de nuevo.';
  } else {
    $user = trim((string)($_POST['user'] ?? ''));
    $pass = trim((string)($_POST['pass'] ?? ''));
â€‹
    if ($user === ADMIN_USER && $pass === ADMIN_PASS) {
      session_regenerate_id(true);
      $_SESSION['admin_ok'] = true;
      header('Location: index.php');
      exit;
    } else {
      $error = 'Usuario o contraseÃ±a incorrectos';
    }
  }
}
?>
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
â€‹
  <title>Admin - Login</title>
  <meta name="robots" content="noindex, nofollow">
â€‹
  <link rel="stylesheet" href="../styles.css">
  <style>
    .admin-box{max-width:520px;margin:24px auto;background:#fff;padding:18px;border-radius:14px;box-shadow:0 4px 10px rgba(0,0,0,.08)}
    label{display:block;margin-top:12px;margin-bottom:6px;font-weight:bold}
    input{width:100%;padding:10px 14px;border-radius:12px;border:1px solid #ddd;outline:none}
    .error{color:#b00020;margin-top:10px;text-align:center}
    .actions{display:flex;gap:10px;justify-content:center;margin-top:16px;flex-wrap:wrap}
  </style>
</head>
<body>
â€‹
<header>
  <h1>Acceso administrador</h1>
</header>
â€‹
<main>
  <div class="admin-box">
    <form method="post" autocomplete="off">
      <input type="hidden" name="csrf_token" value="<?= h($_SESSION['csrf_token']) ?>">
â€‹
      <label>Usuario</label>
      <input type="text" name="user" required>
â€‹
      <label>ContraseÃ±a</label>
      <input type="password" name="pass" required>
â€‹
      <div class="actions">
        <button class="btn" type="submit">Entrar</button>
        <a class="btn secundario" href="<?= h(BASE_URL) ?>/">Volver a la web</a>
      </div>
â€‹
      <?php if ($error): ?>
        <p class="error"><?= h($error) ?></p>
      <?php endif; ?>
    </form>
  </div>
</main>
â€‹
</body>
</html>
```
â€‹
â€‹
logout.php:
```
<?php
declare(strict_types=1);
â€‹
session_start();
$_SESSION = [];
session_destroy();
â€‹
header('Location: login.php');
exit;
```
â€‹
En esta web he realizado varias mejoras de SEO para que los buscadores como Google puedan entender mejor el contenido y posicionarla mejor. He aÃ±adido tÃ­tulos y descripciones en todas las pÃ¡ginas para explicar de forma clara de quÃ© trata cada una y evitar que todas tengan el mismo contenido.
â€‹
TambiÃ©n he organizado mejor la informaciÃ³n usando correctamente los tÃ­tulos y subtÃ­tulos, lo que hace que la web sea mÃ¡s fÃ¡cil de leer y de entender tanto para los usuarios como para los buscadores. He aÃ±adido textos explicativos en la pÃ¡gina principal, en las categorÃ­as y en los productos para que la web tenga mÃ¡s contenido Ãºtil.
â€‹
AdemÃ¡s, he configurado algunas pÃ¡ginas como el carrito, la bÃºsqueda y el panel de administraciÃ³n para que no aparezcan en Google, ya que no aportan informaciÃ³n relevante para el posicionamiento. Por Ãºltimo, he mejorado las imÃ¡genes aÃ±adiendo textos alternativos y he cuidado la estructura general de la web para que cargue bien y sea fÃ¡cil de navegar.
â€‹
**index.php**
Es la pÃ¡gina principal de la web. Muestra el banner, las categorÃ­as y algunos productos destacados. Desde aquÃ­ el usuario puede empezar a navegar por la web, buscar recortables y acceder al carrito.
â€‹
**categoria.php**
Muestra los recortables de una categorÃ­a concreta. Cuando el usuario entra en una categorÃ­a, este archivo se encarga de mostrar solo los productos que pertenecen a ella.
â€‹
**producto.php**
Es la pÃ¡gina de detalle de un recortable. AquÃ­ se muestra la informaciÃ³n del producto, como el nombre, la imagen, la descripciÃ³n y el botÃ³n para aÃ±adirlo al carrito.
â€‹
**buscar.php**
Se encarga de mostrar los resultados de bÃºsqueda cuando el usuario escribe algo en el buscador. Esta pÃ¡gina no se indexa en Google porque solo sirve para bÃºsquedas internas.
â€‹
**carrito.php**
Gestiona el carrito de la compra. Permite aÃ±adir productos, aumentar o disminuir la cantidad, eliminar productos, vaciar el carrito y descargar los recortables en un archivo ZIP.
â€‹
**styles.css**
Contiene todos los estilos de la web. Define los colores, fuentes, tamaÃ±os, diseÃ±o del banner, tarjetas de productos y el aspecto general de la pÃ¡gina.
â€‹
**seo.php**
Es un archivo de apoyo para el SEO. Sirve para generar los tÃ­tulos, descripciones y otras etiquetas necesarias para mejorar el posicionamiento en buscadores.
â€‹
â€‹
**admin/index.php**
Es la pÃ¡gina principal del panel de administraciÃ³n. Muestra el listado de productos y permite crear, editar o borrar recortables.
â€‹
**admin/login.php**
Permite iniciar sesiÃ³n en el panel de administraciÃ³n usando un usuario y contraseÃ±a.
â€‹
**admin/logout.php**
Cierra la sesiÃ³n del administrador y devuelve al usuario a la pantalla de login.
â€‹
**admin/edit.php**
Sirve para crear nuevos recortables o editar los existentes. Desde aquÃ­ se pueden cambiar los datos del producto y subir imÃ¡genes.
â€‹
**admin/delete.php**
Se encarga de eliminar un recortable de forma segura desde el panel de administraciÃ³n.
â€‹
**admin/auth.php**
Controla la seguridad del admin. Comprueba que el usuario estÃ© logueado y gestiona la protecciÃ³n de las acciones importantes.
â€‹
**admin/config.php**
Contiene la configuraciÃ³n general del proyecto, como la conexiÃ³n a la base de datos y los datos del administrador.
â€‹
â€‹
Gracias a las mejoras SEO realizadas, la web estÃ¡ mejor organizada y preparada para posicionarse en buscadores. Ahora Google puede entender mejor el contenido de cada pÃ¡gina y los usuarios pueden navegar de forma mÃ¡s cÃ³moda. Estas mejoras ayudan a que la web tenga mayor visibilidad y ofrezca una mejor experiencia a los visitantes.
